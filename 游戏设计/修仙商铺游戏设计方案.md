# 《天衍峰：修仙商铺》游戏设计方案 (v3.1 最终版)

**版本**: 3.1
**日期**: 2026-01-31
**作者**: AI Assistant

---

## **文档说明**

本文件是《天衍峰：修仙商铺》项目的**主设计文档 (Master GDD)**。它作为整个设计的**总纲与索引**，旨在提供对游戏核心概念、特色和整体框架的快速了解。

所有具体系统的详细功能和技术实现，均已整合并归档于独立的详细设计文档中。

---

## **第一部分：游戏总览**

### 1. 游戏定位与核心概念
《天衍峰：修仙商铺》是一款融合了 **深度模拟经营、洞天种田与宗门交互** 的独特修仙游戏。玩家扮演天衍峰集市中的一名商铺掌柜，通过经营修仙物品影响NPC修士的命运轨迹，同时建设洞天、潜心修炼、与各大宗门合纵连横，从一介小商贩成长为影响整个修仙世界的商业巨擘。

### 2. 核心特色
- **经营+修仙+种田**: 融合模拟经营、修仙养成与洞天种田，体验从小商贩到商业大亨的成长。
- **动态NPC生态**: 500+程序化生成的NPC拥有自己的生活、目标和故事线，玩家的商业决策将真实地影响他们的命运。
- **LLM驱动的自由交互**: 采用大型语言模型驱动对话与部分创造系统，提供无与伦比的沉浸感和自由度。
- **生成式创造系统**: 游戏后期，玩家可以脱离固定蓝图，通过“衍化创法”系统，自由组合天篆与材料，创造独一无二的丹药、法宝和功法。
- **高策略性商业博弈**: 引入了供应商管理、拍卖行、期货市场、玩家发布任务等高级经济系统，体验真实的商战。

### 3. 核心玩法循环
- **基础循环：生存与积累**: `收集/购买基础材料 → 制作低级物品 → 出售给NPC → 赚取灵石 → 提升修炼/购买新材料`
- **进阶循环：成长与影响**: `针对性制作高品质物品 → 影响NPC命运 → 解锁故事/蓝图 → 投资建设洞天 → 产出高级材料 → 突破修为`
- **终局循环：掌控与布局**: `成为宗门客卿 → 完成宗门大宗订单 → 赚取贡献点 → 兑换顶级功法 → 主导市场/举办拍卖会/交易期货 → 影响宗门决策`

---

## **第二部分：详细设计文档索引**

本作的详细系统设计分为多个文档，存放于 `游戏设计/技术实现/` 目录中。以下为各分篇文档的概述：

- **`01-世界框架.md`**: 阐述游戏最底层的核心框架，包括游戏主控、时间、场景管理，以及驱动世界“活性”的NPC AI导演系统。同时包含多核优化和Mod支持等高级架构设计，并提供了核心C#类（如GameManager, TimeManager, NPCManager）的详细实现方案。

- **`02-角色系统.md`**: 阐述构成角色（玩家与NPC）的完整数据结构，包括身份、修炼天赋、生产天赋、知识体系、战斗属性、深度健康状态、装备和动态效果等八大模块，并提供了核心C#类（如CharacterData, StoryNode）的详细实现方案。

- **`03-制作与经济.md`**: 阐述游戏中所有与“生产”和“商业”相关的核心玩法，包括背包管理、常规制作、制作台，以及交易、拍卖行、期货、宗门订单等高级经济活动，并提供了核心C#类（如CraftingManager, TradingManager）的详细实现方案。

- **`04-创造系统.md`**: 阐述游戏中两大核心创造系统：为万物提供随机性和深度的“词条系统”，以及允许玩家通过实验自创配方和功法的“衍化创法”系统，并提供了核心C#类（如AffixManager, CreationManager）的详细实现方案。

- **`05-天篆系统.md`**: 阐述游戏中作为核心力量体系的【天篆】，包括其从法则母体到具体符号的分级体系、数据模型、组合逻辑与效果解析，并提供了核心C#类（如TianZhuanData, TianZhuanManager）的详细实现方案。

- **`06-战斗系统.md`**: 阐述了深度集成【天篆】的实时战斗系统。定义了【神通】的数据结构、战斗结算流程，以及如何通过`EffectManager`将天篆的法则效果转化为游戏中的实际表现（如伤害、弹道、Buff等）。

- **`07-生物与材料系统.md`**: 详细说明了管理生物（妖兽、灵植）和原材料的数据驱动系统。内容包括物品、生物、灵植的数据结构，以及通过掉落表（Loot Tables）和生成管理器（Spawn Manager）来控制其产出和在世界中的分布。

---

## **第三部分：美术、音效与开发规划**

### 1. 美术与音效风格
- **视觉**: 16-bit像素艺术，融合水墨画风格的低饱和度色彩。
- **音效**: 民族乐器为主的背景音乐，搭配拟真的环境和制作音效。

### 2. 开发路线图
- **阶段1：核心框架搭建**: 实现`01`、`02`号文档中的基础框架和角色系统。
- **阶段2：核心玩法实现**: 实现`03`、`04`号文档中的制作、经济和创造系统。
- **阶段3：内容填充与扩展**: 大量填充NPC、任务、物品、宗门数据，并完善故事线。
- **阶段4：优化与发布**: 进行性能优化、Bug修复和社区测试。

---
**文档版本历史**
- v1.0 (2026-01-27): 初始版本。
- v2.0 (2026-01-31): 增加了深度模拟经营、洞天种田、宗门交互等核心系统。
- v3.0 (2026-01-31): 初步整合版本。
- v3.1 (2026-01-31): **最终版**。将所有详细设计整合至`技术实现`目录下的四大核心文档中，本文档作为总纲。
